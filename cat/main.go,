package main

import (
	"github.com/01-edu/z01"
	"io/ioutil"
	"os"
)


func main() {
	arg:=os.Args
	if len(arg)>1{
		for i:=1; i<len(arg); i++{
			content, err:= ioutil.ReadFile(arg[i])
			if err != nil{
				a:="ERROR: "+ err.Error()
				for _, v := range a {
					z01.PrintRune(v)
				}
				z01.PrintRune('\n')
				os.Exit[1]
			}
			a:= content
				for _, v := range a {
					z01.PrintRune(v)
				}
		}
	} else if len(arg) == 1{
		for i:=1; i<len(arg); i++{
			contente, err:= os.ReadAll(stdin)
			if err !=nil{
				a:="ERROR: "+ err.Error()
				for _, v := range a {
					z01.PrintRune(v)
				}
				z01.PrintRune('\n')
				os.Exit[1]
			}
			a:= content
				for _, v := range a {
					z01.PrintRune(v)
				}
	}
}
